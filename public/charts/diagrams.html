<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Innova Diagrams</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { background: #0a0a0f; font-family: 'Inter', -apple-system, system-ui, sans-serif; color: #e5e7eb; display: flex; align-items: center; justify-content: center; min-height: 100vh; overflow: hidden; }
  svg { max-width: 100%; height: auto; }
  .green { fill: #22c55e; }
  .red { fill: #ef4444; }
  .green-stroke { stroke: #22c55e; }
  .red-stroke { stroke: #ef4444; }
  .gray { fill: #6b7280; }
  .white { fill: #e5e7eb; }
  .muted { fill: #9ca3af; }
  .label { font-family: 'Inter', -apple-system, sans-serif; font-size: 13px; font-weight: 500; }
  .label-sm { font-family: 'Inter', -apple-system, sans-serif; font-size: 11px; font-weight: 400; }
  .label-lg { font-family: 'Inter', -apple-system, sans-serif; font-size: 15px; font-weight: 600; }
  .label-xl { font-family: 'Inter', -apple-system, sans-serif; font-size: 11px; font-weight: 600; letter-spacing: 0.08em; text-transform: uppercase; }
  .dash { stroke-dasharray: 4 3; }
  .title { font-family: 'Inter', -apple-system, sans-serif; font-size: 12px; font-weight: 500; fill: #6b7280; }
</style>
</head>
<body>
<script>
const d = new URLSearchParams(window.location.search).get('d') || 'ohlc';

const DIAGRAMS = {

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // OHLC ANATOMY â€” Bullish + Bearish side by side
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'ohlc': () => `
    <svg viewBox="0 0 600 340" xmlns="http://www.w3.org/2000/svg">
      <!-- Title -->
      <text x="300" y="24" text-anchor="middle" class="title">Anatomia de una Barra â€” OHLC</text>

      <!-- â•â• BULLISH CANDLE â•â• -->
      <g transform="translate(150, 50)">
        <!-- Wick -->
        <line x1="0" y1="0" x2="0" y2="240" stroke="#22c55e" stroke-width="2"/>
        <!-- Body -->
        <rect x="-18" y="60" width="36" height="120" fill="#22c55e" rx="2"/>

        <!-- Labels with dotted lines -->
        <!-- High -->
        <line x1="5" y1="0" x2="55" y2="0" stroke="#4b5563" stroke-width="0.8" class="dash"/>
        <text x="60" y="4" class="label white">High</text>

        <!-- Close (top of body for bullish) -->
        <line x1="20" y1="60" x2="55" y2="60" stroke="#4b5563" stroke-width="0.8" class="dash"/>
        <text x="60" y="64" class="label green">Close</text>

        <!-- Open (bottom of body for bullish) -->
        <line x1="20" y1="180" x2="55" y2="180" stroke="#4b5563" stroke-width="0.8" class="dash"/>
        <text x="60" y="184" class="label muted">Open</text>

        <!-- Low -->
        <line x1="5" y1="240" x2="55" y2="240" stroke="#4b5563" stroke-width="0.8" class="dash"/>
        <text x="60" y="244" class="label white">Low</text>

        <!-- Body bracket left -->
        <line x1="-30" y1="63" x2="-30" y2="177" stroke="#22c55e" stroke-width="1.5"/>
        <line x1="-30" y1="63" x2="-25" y2="63" stroke="#22c55e" stroke-width="1.5"/>
        <line x1="-30" y1="177" x2="-25" y2="177" stroke="#22c55e" stroke-width="1.5"/>
        <text x="-35" y="125" text-anchor="end" class="label-sm green" transform="rotate(-90, -35, 125)">Cuerpo</text>

        <!-- Upper wick label -->
        <line x1="-30" y1="3" x2="-30" y2="57" stroke="#6b7280" stroke-width="1"/>
        <line x1="-30" y1="3" x2="-25" y2="3" stroke="#6b7280" stroke-width="1"/>
        <line x1="-30" y1="57" x2="-25" y2="57" stroke="#6b7280" stroke-width="1"/>
        <text x="-35" y="34" text-anchor="end" class="label-sm gray" transform="rotate(-90, -35, 34)">Mecha</text>

        <!-- Lower wick label -->
        <line x1="-30" y1="183" x2="-30" y2="237" stroke="#6b7280" stroke-width="1"/>
        <line x1="-30" y1="183" x2="-25" y2="183" stroke="#6b7280" stroke-width="1"/>
        <line x1="-30" y1="237" x2="-25" y2="237" stroke="#6b7280" stroke-width="1"/>
        <text x="-35" y="214" text-anchor="end" class="label-sm gray" transform="rotate(-90, -35, 214)">Mecha</text>

        <!-- Badge -->
        <rect x="-40" y="256" width="110" height="24" rx="6" fill="rgba(34,197,94,0.15)"/>
        <text x="15" y="272" text-anchor="middle" class="label-xl green">Bullish (OLHC)</text>
      </g>

      <!-- â•â• BEARISH CANDLE â•â• -->
      <g transform="translate(410, 50)">
        <!-- Wick -->
        <line x1="0" y1="0" x2="0" y2="240" stroke="#ef4444" stroke-width="2"/>
        <!-- Body -->
        <rect x="-18" y="60" width="36" height="120" fill="#ef4444" rx="2"/>

        <!-- Labels with dotted lines -->
        <!-- High -->
        <line x1="5" y1="0" x2="55" y2="0" stroke="#4b5563" stroke-width="0.8" class="dash"/>
        <text x="60" y="4" class="label white">High</text>

        <!-- Open (top of body for bearish) -->
        <line x1="20" y1="60" x2="55" y2="60" stroke="#4b5563" stroke-width="0.8" class="dash"/>
        <text x="60" y="64" class="label muted">Open</text>

        <!-- Close (bottom of body for bearish) -->
        <line x1="20" y1="180" x2="55" y2="180" stroke="#4b5563" stroke-width="0.8" class="dash"/>
        <text x="60" y="184" class="label red">Close</text>

        <!-- Low -->
        <line x1="5" y1="240" x2="55" y2="240" stroke="#4b5563" stroke-width="0.8" class="dash"/>
        <text x="60" y="244" class="label white">Low</text>

        <!-- Body bracket left -->
        <line x1="-30" y1="63" x2="-30" y2="177" stroke="#ef4444" stroke-width="1.5"/>
        <line x1="-30" y1="63" x2="-25" y2="63" stroke="#ef4444" stroke-width="1.5"/>
        <line x1="-30" y1="177" x2="-25" y2="177" stroke="#ef4444" stroke-width="1.5"/>
        <text x="-35" y="125" text-anchor="end" class="label-sm red" transform="rotate(-90, -35, 125)">Cuerpo</text>

        <!-- Badge -->
        <rect x="-40" y="256" width="110" height="24" rx="6" fill="rgba(239,68,68,0.15)"/>
        <text x="15" y="272" text-anchor="middle" class="label-xl red">Bearish (OHLC)</text>
      </g>

      <!-- Center arrow -->
      <text x="280" y="180" text-anchor="middle" class="gray" style="font-size:20px">vs</text>
    </svg>
  `,

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // DOJI TYPES
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'doji': () => `
    <svg viewBox="0 0 600 280" xmlns="http://www.w3.org/2000/svg">
      <text x="300" y="24" text-anchor="middle" class="title">Tipos de Doji â€” Indecision del mercado</text>

      <!-- Standard Doji -->
      <g transform="translate(100, 60)">
        <line x1="0" y1="0" x2="0" y2="160" stroke="#f59e0b" stroke-width="2"/>
        <line x1="-14" y1="80" x2="14" y2="80" stroke="#f59e0b" stroke-width="3"/>
        <text x="0" y="190" text-anchor="middle" class="label-sm" fill="#f59e0b">Doji</text>
        <text x="0" y="205" text-anchor="middle" class="label-sm gray">Indecision pura</text>
      </g>

      <!-- Dragonfly -->
      <g transform="translate(250, 60)">
        <line x1="0" y1="0" x2="0" y2="160" stroke="#22c55e" stroke-width="2"/>
        <line x1="-14" y1="0" x2="14" y2="0" stroke="#22c55e" stroke-width="3"/>
        <text x="0" y="190" text-anchor="middle" class="label-sm green">Dragonfly</text>
        <text x="0" y="205" text-anchor="middle" class="label-sm gray">Rechazo de bajos</text>
      </g>

      <!-- Gravestone -->
      <g transform="translate(400, 60)">
        <line x1="0" y1="0" x2="0" y2="160" stroke="#ef4444" stroke-width="2"/>
        <line x1="-14" y1="160" x2="14" y2="160" stroke="#ef4444" stroke-width="3"/>
        <text x="0" y="190" text-anchor="middle" class="label-sm red">Gravestone</text>
        <text x="0" y="205" text-anchor="middle" class="label-sm gray">Rechazo de altos</text>
      </g>

      <!-- Labels -->
      <line x1="30" y1="80" x2="80" y2="80" stroke="#4b5563" stroke-width="0.8" class="dash"/>
      <text x="85" y="84" class="label-sm muted">Open = Close</text>
    </svg>
  `,

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // BODY SIZE COMPARISON
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'body-sizes': () => `
    <svg viewBox="0 0 700 300" xmlns="http://www.w3.org/2000/svg">
      <text x="350" y="24" text-anchor="middle" class="title">Tamano del Cuerpo = Conviccion</text>

      <!-- Big body -->
      <g transform="translate(100, 50)">
        <line x1="0" y1="0" x2="0" y2="200" stroke="#22c55e" stroke-width="2"/>
        <rect x="-20" y="20" width="40" height="160" fill="#22c55e" rx="2"/>
        <text x="0" y="230" text-anchor="middle" class="label-sm green">Cuerpo grande</text>
        <text x="0" y="248" text-anchor="middle" class="label-sm gray">Fuerte conviccion</text>
      </g>

      <!-- Medium body -->
      <g transform="translate(250, 50)">
        <line x1="0" y1="0" x2="0" y2="200" stroke="#22c55e" stroke-width="2"/>
        <rect x="-20" y="60" width="40" height="80" fill="#22c55e" rx="2"/>
        <text x="0" y="230" text-anchor="middle" class="label-sm green">Cuerpo medio</text>
        <text x="0" y="248" text-anchor="middle" class="label-sm gray">Conviccion moderada</text>
      </g>

      <!-- Small body -->
      <g transform="translate(400, 50)">
        <line x1="0" y1="0" x2="0" y2="200" stroke="#f59e0b" stroke-width="2"/>
        <rect x="-20" y="85" width="40" height="30" fill="#f59e0b" rx="2"/>
        <text x="0" y="230" text-anchor="middle" class="label-sm" fill="#f59e0b">Cuerpo pequeno</text>
        <text x="0" y="248" text-anchor="middle" class="label-sm gray">Indecision</text>
      </g>

      <!-- Doji -->
      <g transform="translate(550, 50)">
        <line x1="0" y1="0" x2="0" y2="200" stroke="#6b7280" stroke-width="2"/>
        <line x1="-14" y1="100" x2="14" y2="100" stroke="#6b7280" stroke-width="3"/>
        <text x="0" y="230" text-anchor="middle" class="label-sm gray">Sin cuerpo</text>
        <text x="0" y="248" text-anchor="middle" class="label-sm gray">Empate total</text>
      </g>

      <!-- Arrow from big to small -->
      <line x1="130" y1="270" x2="520" y2="270" stroke="#374151" stroke-width="1"/>
      <polygon points="520,267 528,270 520,273" fill="#374151"/>
      <text x="325" y="290" text-anchor="middle" class="label-sm gray">Menos conviccion â†’</text>
    </svg>
  `,

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // WICK REJECTION DIAGRAM
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'wicks': () => `
    <svg viewBox="0 0 700 320" xmlns="http://www.w3.org/2000/svg">
      <text x="350" y="24" text-anchor="middle" class="title">Mechas = Rechazo de niveles</text>

      <!-- Long lower wick (bullish rejection) -->
      <g transform="translate(120, 55)">
        <line x1="0" y1="0" x2="0" y2="200" stroke="#22c55e" stroke-width="2"/>
        <rect x="-20" y="0" width="40" height="50" fill="#22c55e" rx="2"/>

        <!-- Wick bracket -->
        <line x1="30" y1="53" x2="30" y2="197" stroke="#22c55e" stroke-width="1"/>
        <line x1="25" y1="53" x2="30" y2="53" stroke="#22c55e" stroke-width="1"/>
        <line x1="25" y1="197" x2="30" y2="197" stroke="#22c55e" stroke-width="1"/>
        <text x="36" y="130" class="label-sm green">Rechazo</text>
        <text x="36" y="145" class="label-sm green">de bajos</text>

        <!-- Arrows showing rejection -->
        <text x="0" y="175" text-anchor="middle" style="font-size:16px" fill="#22c55e">â†‘</text>

        <text x="0" y="235" text-anchor="middle" class="label-sm green">Mecha larga abajo</text>
        <text x="0" y="250" text-anchor="middle" class="label-sm gray">Compradores rechazaron</text>
      </g>

      <!-- Long upper wick (bearish rejection) -->
      <g transform="translate(350, 55)">
        <line x1="0" y1="0" x2="0" y2="200" stroke="#ef4444" stroke-width="2"/>
        <rect x="-20" y="150" width="40" height="50" fill="#ef4444" rx="2"/>

        <!-- Wick bracket -->
        <line x1="30" y1="3" x2="30" y2="147" stroke="#ef4444" stroke-width="1"/>
        <line x1="25" y1="3" x2="30" y2="3" stroke="#ef4444" stroke-width="1"/>
        <line x1="25" y1="147" x2="30" y2="147" stroke="#ef4444" stroke-width="1"/>
        <text x="36" y="75" class="label-sm red">Rechazo</text>
        <text x="36" y="90" class="label-sm red">de altos</text>

        <text x="0" y="35" text-anchor="middle" style="font-size:16px" fill="#ef4444">â†“</text>

        <text x="0" y="235" text-anchor="middle" class="label-sm red">Mecha larga arriba</text>
        <text x="0" y="250" text-anchor="middle" class="label-sm gray">Vendedores rechazaron</text>
      </g>

      <!-- No wicks (full conviction) -->
      <g transform="translate(570, 55)">
        <rect x="-20" y="0" width="40" height="200" fill="#22c55e" rx="2"/>

        <text x="30" y="100" class="label-sm" fill="#8b5cf6">Sin mechas</text>
        <text x="30" y="115" class="label-sm" fill="#8b5cf6">= Maxima</text>
        <text x="30" y="130" class="label-sm" fill="#8b5cf6">conviccion</text>

        <text x="0" y="235" text-anchor="middle" class="label-sm" fill="#8b5cf6">Sin mechas</text>
        <text x="0" y="250" text-anchor="middle" class="label-sm gray">Nadie se opuso</text>
      </g>
    </svg>
  `,

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // WRB vs NRB COMPARISON
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'wrb-nrb': () => `
    <svg viewBox="0 0 650 320" xmlns="http://www.w3.org/2000/svg">
      <text x="325" y="24" text-anchor="middle" class="title">Wide Range Bar vs Narrow Range Bar</text>

      <!-- NRB series -->
      <g transform="translate(80, 60)">
        <line x1="0" y1="80" x2="0" y2="130" stroke="#f59e0b" stroke-width="1.5"/>
        <rect x="-10" y="90" width="20" height="25" fill="#f59e0b" rx="1"/>

        <line x1="40" y1="82" x2="40" y2="128" stroke="#f59e0b" stroke-width="1.5"/>
        <rect x="30" y="88" width="20" height="28" fill="none" stroke="#f59e0b" stroke-width="1.5" rx="1"/>

        <line x1="80" y1="84" x2="80" y2="126" stroke="#f59e0b" stroke-width="1.5"/>
        <rect x="70" y="92" width="20" height="22" fill="#f59e0b" rx="1"/>

        <line x1="120" y1="86" x2="120" y2="124" stroke="#f59e0b" stroke-width="1.5"/>
        <rect x="110" y="90" width="20" height="24" fill="none" stroke="#f59e0b" stroke-width="1.5" rx="1"/>

        <line x1="160" y1="83" x2="160" y2="127" stroke="#f59e0b" stroke-width="1.5"/>
        <rect x="150" y="91" width="20" height="23" fill="#f59e0b" rx="1"/>

        <!-- Zone -->
        <rect x="-20" y="78" width="200" height="55" fill="rgba(245,158,11,0.06)" stroke="rgba(245,158,11,0.15)" stroke-width="1" rx="4"/>

        <!-- Label -->
        <rect x="30" y="155" width="100" height="22" rx="5" fill="rgba(245,158,11,0.15)"/>
        <text x="80" y="170" text-anchor="middle" class="label-xl" fill="#f59e0b">NRB</text>
        <text x="80" y="195" text-anchor="middle" class="label-sm gray">Rango comprimido</text>
        <text x="80" y="212" text-anchor="middle" class="label-sm gray">Acumulacion silenciosa</text>
      </g>

      <!-- Arrow -->
      <g transform="translate(300, 140)">
        <line x1="0" y1="0" x2="40" y2="0" stroke="#6b7280" stroke-width="1.5"/>
        <polygon points="40,-4 50,0 40,4" fill="#6b7280"/>
        <text x="25" y="20" text-anchor="middle" class="label-sm gray">Explosion</text>
      </g>

      <!-- WRB -->
      <g transform="translate(420, 60)">
        <line x1="0" y1="0" x2="0" y2="200" stroke="#22c55e" stroke-width="2.5"/>
        <rect x="-22" y="15" width="44" height="170" fill="#22c55e" rx="2"/>

        <!-- Range bracket -->
        <line x1="32" y1="3" x2="32" y2="197" stroke="#22c55e" stroke-width="1.5"/>
        <line x1="27" y1="3" x2="32" y2="3" stroke="#22c55e" stroke-width="1.5"/>
        <line x1="27" y1="197" x2="32" y2="197" stroke="#22c55e" stroke-width="1.5"/>
        <text x="40" y="95" class="label-sm green">Rango 3x</text>
        <text x="40" y="112" class="label-sm green">mayor</text>

        <!-- Label -->
        <rect x="-30" y="220" width="100" height="22" rx="5" fill="rgba(34,197,94,0.15)"/>
        <text x="20" y="235" text-anchor="middle" class="label-xl green">WRB</text>
        <text x="20" y="258" text-anchor="middle" class="label-sm gray">Wide Range Bar</text>
        <text x="20" y="275" text-anchor="middle" class="label-sm gray">Participacion institucional</text>
      </g>
    </svg>
  `,

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // PO3 â€” POWER OF THREE IN A CANDLE
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'po3': () => `
    <svg viewBox="0 0 500 360" xmlns="http://www.w3.org/2000/svg">
      <text x="250" y="24" text-anchor="middle" class="title">Power of Three (PO3) en una vela alcista</text>

      <g transform="translate(200, 55)">
        <!-- Full wick -->
        <line x1="0" y1="0" x2="0" y2="260" stroke="#22c55e" stroke-width="2.5"/>
        <!-- Body -->
        <rect x="-25" y="40" width="50" height="140" fill="#22c55e" rx="2"/>

        <!-- â•â• A â€” Accumulation (Open area) â•â• -->
        <line x1="-25" y1="180" x2="-60" y2="180" stroke="#f59e0b" stroke-width="1" class="dash"/>
        <rect x="-155" y="168" width="90" height="24" rx="5" fill="rgba(245,158,11,0.12)"/>
        <text x="-110" y="184" text-anchor="middle" class="label-sm" fill="#f59e0b">A â€” Open</text>

        <!-- â•â• M â€” Manipulation (Lower wick) â•â• -->
        <line x1="0" y1="260" x2="-60" y2="260" stroke="#ef4444" stroke-width="1" class="dash"/>
        <rect x="-175" y="248" width="110" height="24" rx="5" fill="rgba(239,68,68,0.12)"/>
        <text x="-120" y="264" text-anchor="middle" class="label-sm red">M â€” Mecha (trampa)</text>

        <!-- M bracket -->
        <line x1="38" y1="183" x2="38" y2="257" stroke="#ef4444" stroke-width="1.5"/>
        <line x1="33" y1="183" x2="38" y2="183" stroke="#ef4444" stroke-width="1.5"/>
        <line x1="33" y1="257" x2="38" y2="257" stroke="#ef4444" stroke-width="1.5"/>
        <text x="46" y="218" class="label-sm red">Manipulacion</text>
        <text x="46" y="235" class="label-sm gray">Barre stops</text>

        <!-- â•â• D â€” Distribution (Body = real move) â•â• -->
        <line x1="-25" y1="40" x2="-60" y2="40" stroke="#22c55e" stroke-width="1" class="dash"/>
        <rect x="-165" y="28" width="100" height="24" rx="5" fill="rgba(34,197,94,0.12)"/>
        <text x="-115" y="44" text-anchor="middle" class="label-sm green">D â€” Close (real)</text>

        <!-- D bracket -->
        <line x1="-38" y1="43" x2="-38" y2="177" stroke="#22c55e" stroke-width="1.5"/>
        <line x1="-38" y1="43" x2="-33" y2="43" stroke="#22c55e" stroke-width="1.5"/>
        <line x1="-38" y1="177" x2="-33" y2="177" stroke="#22c55e" stroke-width="1.5"/>
        <text x="-46" y="115" text-anchor="end" class="label-sm green">Distribucion</text>
        <text x="-46" y="132" text-anchor="end" class="label-sm gray">Mov. real</text>

        <!-- High -->
        <line x1="5" y1="0" x2="60" y2="0" stroke="#4b5563" stroke-width="0.8" class="dash"/>
        <text x="65" y="4" class="label-sm muted">High</text>

        <!-- Low -->
        <line x1="5" y1="260" x2="60" y2="260" stroke="#4b5563" stroke-width="0.8" class="dash"/>
        <text x="65" y="264" class="label-sm muted">Low</text>
      </g>

      <!-- Bottom note -->
      <text x="250" y="340" text-anchor="middle" class="label-sm gray">Cada vela es un ciclo AMD completo â€” fractal</text>
    </svg>
  `,

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // BULLISH CANDLE â€” Single candle anatomy
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'bullish': () => `
    <svg viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
      <text x="200" y="24" text-anchor="middle" class="title">Barra Alcista â€” Close > Open</text>

      <g transform="translate(160, 45)">
        <!-- Wick -->
        <line x1="0" y1="0" x2="0" y2="210" stroke="#22c55e" stroke-width="2"/>
        <!-- Body -->
        <rect x="-22" y="40" width="44" height="120" fill="#22c55e" rx="2"/>

        <!-- Labels -->
        <line x1="5" y1="0" x2="50" y2="0" stroke="#4b5563" stroke-width="0.8" class="dash"/>
        <text x="55" y="4" class="label white">High</text>

        <line x1="25" y1="40" x2="50" y2="40" stroke="#4b5563" stroke-width="0.8" class="dash"/>
        <text x="55" y="44" class="label green">Close â–²</text>

        <line x1="25" y1="160" x2="50" y2="160" stroke="#4b5563" stroke-width="0.8" class="dash"/>
        <text x="55" y="164" class="label muted">Open</text>

        <line x1="5" y1="210" x2="50" y2="210" stroke="#4b5563" stroke-width="0.8" class="dash"/>
        <text x="55" y="214" class="label white">Low</text>

        <!-- Body bracket -->
        <line x1="-35" y1="43" x2="-35" y2="157" stroke="#22c55e" stroke-width="1.5"/>
        <line x1="-35" y1="43" x2="-30" y2="43" stroke="#22c55e" stroke-width="1.5"/>
        <line x1="-35" y1="157" x2="-30" y2="157" stroke="#22c55e" stroke-width="1.5"/>
        <text x="-42" y="105" text-anchor="end" class="label-sm green" transform="rotate(-90, -42, 105)">Cuerpo</text>

        <!-- Badge -->
        <rect x="-50" y="228" width="140" height="24" rx="6" fill="rgba(34,197,94,0.15)"/>
        <text x="20" y="244" text-anchor="middle" class="label-xl green">Compradores ganaron</text>
      </g>
    </svg>
  `,

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // BEARISH CANDLE â€” Single candle anatomy
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'bearish': () => `
    <svg viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
      <text x="200" y="24" text-anchor="middle" class="title">Barra Bajista â€” Close < Open</text>

      <g transform="translate(160, 45)">
        <!-- Wick -->
        <line x1="0" y1="0" x2="0" y2="210" stroke="#ef4444" stroke-width="2"/>
        <!-- Body -->
        <rect x="-22" y="40" width="44" height="120" fill="#ef4444" rx="2"/>

        <!-- Labels -->
        <line x1="5" y1="0" x2="50" y2="0" stroke="#4b5563" stroke-width="0.8" class="dash"/>
        <text x="55" y="4" class="label white">High</text>

        <line x1="25" y1="40" x2="50" y2="40" stroke="#4b5563" stroke-width="0.8" class="dash"/>
        <text x="55" y="44" class="label muted">Open</text>

        <line x1="25" y1="160" x2="50" y2="160" stroke="#4b5563" stroke-width="0.8" class="dash"/>
        <text x="55" y="164" class="label red">Close â–¼</text>

        <line x1="5" y1="210" x2="50" y2="210" stroke="#4b5563" stroke-width="0.8" class="dash"/>
        <text x="55" y="214" class="label white">Low</text>

        <!-- Body bracket -->
        <line x1="-35" y1="43" x2="-35" y2="157" stroke="#ef4444" stroke-width="1.5"/>
        <line x1="-35" y1="43" x2="-30" y2="43" stroke="#ef4444" stroke-width="1.5"/>
        <line x1="-35" y1="157" x2="-30" y2="157" stroke="#ef4444" stroke-width="1.5"/>
        <text x="-42" y="105" text-anchor="end" class="label-sm red" transform="rotate(-90, -42, 105)">Cuerpo</text>

        <!-- Badge -->
        <rect x="-50" y="228" width="140" height="24" rx="6" fill="rgba(239,68,68,0.15)"/>
        <text x="20" y="244" text-anchor="middle" class="label-xl red">Vendedores ganaron</text>
      </g>
    </svg>
  `,

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // AMD DAILY SESSIONS
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'amd-sessions': () => `
    <svg viewBox="0 0 700 300" xmlns="http://www.w3.org/2000/svg">
      <text x="350" y="24" text-anchor="middle" class="title">Sesiones del dia = Ciclo AMD</text>

      <!-- Timeline -->
      <line x1="50" y1="240" x2="650" y2="240" stroke="#374151" stroke-width="1.5"/>

      <!-- Asia (A) -->
      <rect x="60" y="140" width="120" height="90" rx="6" fill="rgba(107,114,128,0.1)" stroke="rgba(107,114,128,0.25)" stroke-width="1"/>
      <line x1="60" y1="160" x2="60" y2="220" stroke="#6b7280" stroke-width="1.5"/>
      <rect x="50" y="165" width="20" height="20" fill="none" stroke="#6b7280" stroke-width="1.5" rx="1"/>
      <line x1="90" y1="158" x2="90" y2="222" stroke="#6b7280" stroke-width="1.5"/>
      <rect x="80" y="168" width="20" height="18" fill="#6b7280" rx="1"/>
      <line x1="120" y1="162" x2="120" y2="218" stroke="#6b7280" stroke-width="1.5"/>
      <rect x="110" y="170" width="20" height="16" fill="none" stroke="#6b7280" stroke-width="1.5" rx="1"/>
      <line x1="150" y1="160" x2="150" y2="220" stroke="#6b7280" stroke-width="1.5"/>
      <rect x="140" y="167" width="20" height="19" fill="#6b7280" rx="1"/>
      <text x="120" y="135" text-anchor="middle" class="label-xl gray">A â€” Asia</text>
      <text x="120" y="262" text-anchor="middle" class="label-sm gray">20:00-00:00</text>

      <!-- London (M) - Judas swing down then up -->
      <rect x="200" y="80" width="140" height="150" rx="6" fill="rgba(239,68,68,0.06)" stroke="rgba(239,68,68,0.2)" stroke-width="1"/>
      <line x1="220" y1="150" x2="220" y2="230" stroke="#ef4444" stroke-width="2"/>
      <rect x="210" y="175" width="20" height="40" fill="#ef4444" rx="1"/>
      <line x1="260" y1="100" x2="260" y2="228" stroke="#22c55e" stroke-width="2"/>
      <rect x="250" y="100" width="20" height="105" fill="#22c55e" rx="1"/>
      <line x1="300" y1="90" x2="300" y2="180" stroke="#22c55e" stroke-width="2"/>
      <rect x="290" y="95" width="20" height="65" fill="#22c55e" rx="1"/>
      <text x="270" y="75" text-anchor="middle" class="label-xl red">M â€” London</text>
      <text x="270" y="262" text-anchor="middle" class="label-sm gray">01:00-05:00</text>

      <!-- NY (D) - Expansion -->
      <rect x="360" y="50" width="140" height="180" rx="6" fill="rgba(34,197,94,0.05)" stroke="rgba(34,197,94,0.2)" stroke-width="1"/>
      <line x1="390" y1="60" x2="390" y2="150" stroke="#22c55e" stroke-width="2"/>
      <rect x="380" y="65" width="20" height="70" fill="#22c55e" rx="1"/>
      <line x1="430" y1="50" x2="430" y2="130" stroke="#22c55e" stroke-width="2"/>
      <rect x="420" y="55" width="20" height="55" fill="#22c55e" rx="1"/>
      <line x1="470" y1="55" x2="470" y2="120" stroke="#22c55e" stroke-width="2"/>
      <rect x="460" y="60" width="20" height="40" fill="#22c55e" rx="1"/>
      <text x="430" y="45" text-anchor="middle" class="label-xl green">D â€” New York</text>
      <text x="430" y="262" text-anchor="middle" class="label-sm gray">07:00-10:00</text>

      <!-- PM (X) -->
      <rect x="520" y="50" width="120" height="180" rx="6" fill="rgba(139,92,246,0.05)" stroke="rgba(139,92,246,0.2)" stroke-width="1"/>
      <line x1="550" y1="55" x2="550" y2="110" stroke="#8b5cf6" stroke-width="1.5"/>
      <rect x="540" y="60" width="20" height="30" fill="#8b5cf6" rx="1"/>
      <line x1="590" y1="58" x2="590" y2="108" stroke="#8b5cf6" stroke-width="1.5"/>
      <rect x="580" y="65" width="20" height="25" fill="none" stroke="#8b5cf6" stroke-width="1.5" rx="1"/>
      <line x1="620" y1="60" x2="620" y2="105" stroke="#8b5cf6" stroke-width="1.5"/>
      <rect x="610" y="68" width="20" height="20" fill="#8b5cf6" rx="1"/>
      <text x="580" y="45" text-anchor="middle" class="label-xl" fill="#8b5cf6">X â€” PM</text>
      <text x="580" y="262" text-anchor="middle" class="label-sm gray">13:30-16:00</text>

      <!-- Bottom note -->
      <text x="350" y="290" text-anchor="middle" class="label-sm gray">Asia consolida â†’ London manipula â†’ NY distribuye â†’ PM cierra</text>
    </svg>
  `,
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // THREE FRAMEWORKS â€” Williams, ICT, Lori
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'three-frameworks': () => `
    <svg viewBox="0 0 700 340" xmlns="http://www.w3.org/2000/svg">
      <text x="350" y="24" text-anchor="middle" class="title">Tres perspectivas sobre el movimiento del precio</text>

      <!-- Williams -->
      <g transform="translate(30, 60)">
        <rect x="0" y="0" width="190" height="220" rx="8" fill="rgba(59,130,246,0.06)" stroke="rgba(59,130,246,0.2)" stroke-width="1"/>
        <rect x="0" y="0" width="190" height="36" rx="8" fill="rgba(59,130,246,0.15)"/>
        <rect x="0" y="28" width="190" height="8" fill="rgba(59,130,246,0.06)"/>
        <text x="95" y="23" text-anchor="middle" class="label-xl" fill="#60a5fa">LARRY WILLIAMS</text>
        <text x="95" y="60" text-anchor="middle" class="label-sm white">Quien mueve el precio</text>
        <text x="15" y="90" class="label-sm muted">â€¢ COT Report</text>
        <text x="15" y="112" class="label-sm muted">â€¢ Commercials vs Retail</text>
        <text x="15" y="134" class="label-sm muted">â€¢ Acumulacion gradual</text>
        <text x="15" y="156" class="label-sm muted">â€¢ Contraccion/Expansion</text>
        <rect x="30" y="180" width="130" height="24" rx="5" fill="rgba(59,130,246,0.12)"/>
        <text x="95" y="196" text-anchor="middle" class="label-sm" fill="#60a5fa">MACRO (quien)</text>
      </g>

      <!-- ICT -->
      <g transform="translate(250, 60)">
        <rect x="0" y="0" width="190" height="220" rx="8" fill="rgba(34,197,94,0.06)" stroke="rgba(34,197,94,0.2)" stroke-width="1"/>
        <rect x="0" y="0" width="190" height="36" rx="8" fill="rgba(34,197,94,0.15)"/>
        <rect x="0" y="28" width="190" height="8" fill="rgba(34,197,94,0.06)"/>
        <text x="95" y="23" text-anchor="middle" class="label-xl green">ICT</text>
        <text x="95" y="60" text-anchor="middle" class="label-sm white">Como mueven el precio</text>
        <text x="15" y="90" class="label-sm muted">â€¢ Liquidez (BSL/SSL)</text>
        <text x="15" y="112" class="label-sm muted">â€¢ PD Arrays (OB, FVG)</text>
        <text x="15" y="134" class="label-sm muted">â€¢ AMD / Power of Three</text>
        <text x="15" y="156" class="label-sm muted">â€¢ IPDA ciclos 20/40/60</text>
        <rect x="30" y="180" width="130" height="24" rx="5" fill="rgba(34,197,94,0.12)"/>
        <text x="95" y="196" text-anchor="middle" class="label-sm green">PRICE ACTION (como)</text>
      </g>

      <!-- Lori -->
      <g transform="translate(470, 60)">
        <rect x="0" y="0" width="190" height="220" rx="8" fill="rgba(245,158,11,0.06)" stroke="rgba(245,158,11,0.2)" stroke-width="1"/>
        <rect x="0" y="0" width="190" height="36" rx="8" fill="rgba(245,158,11,0.15)"/>
        <rect x="0" y="28" width="190" height="8" fill="rgba(245,158,11,0.06)"/>
        <text x="95" y="23" text-anchor="middle" class="label-xl" fill="#f59e0b">CHRIS LORI</text>
        <text x="95" y="60" text-anchor="middle" class="label-sm white">Por que lo mueven asi</text>
        <text x="15" y="90" class="label-sm muted">â€¢ Order flow institucional</text>
        <text x="15" y="112" class="label-sm muted">â€¢ Pricing engines</text>
        <text x="15" y="134" class="label-sm muted">â€¢ Volatilidad como senal</text>
        <text x="15" y="156" class="label-sm muted">â€¢ Ejecucion de ordenes</text>
        <rect x="30" y="180" width="130" height="24" rx="5" fill="rgba(245,158,11,0.12)"/>
        <text x="95" y="196" text-anchor="middle" class="label-sm" fill="#f59e0b">MECANICA (por que)</text>
      </g>

      <!-- Connecting arrows -->
      <line x1="220" y1="170" x2="250" y2="170" stroke="#374151" stroke-width="1.5"/>
      <polygon points="248,167 255,170 248,173" fill="#374151"/>
      <line x1="440" y1="170" x2="470" y2="170" stroke="#374151" stroke-width="1.5"/>
      <polygon points="468,167 475,170 468,173" fill="#374151"/>

      <!-- Bottom note -->
      <text x="350" y="320" text-anchor="middle" class="label-sm gray">Las tres se complementan â€” no se contradicen</text>
    </svg>
  `,

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // DEALING RANGE â€” Premium / Discount
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'dealing-range': () => `
    <svg viewBox="0 0 500 360" xmlns="http://www.w3.org/2000/svg">
      <text x="250" y="24" text-anchor="middle" class="title">Dealing Range â€” Premium / Discount</text>

      <g transform="translate(100, 50)">
        <!-- Full range box -->
        <rect x="0" y="0" width="300" height="260" rx="4" fill="none" stroke="#374151" stroke-width="1"/>

        <!-- Premium zone (top half) -->
        <rect x="0" y="0" width="300" height="130" rx="4" fill="rgba(239,68,68,0.06)"/>
        <text x="150" y="25" text-anchor="middle" class="label-xl red">PREMIUM</text>
        <text x="150" y="45" text-anchor="middle" class="label-sm" fill="#9ca3af">Zona de venta</text>

        <!-- Discount zone (bottom half) -->
        <rect x="0" y="130" width="300" height="130" rx="4" fill="rgba(34,197,94,0.06)"/>
        <text x="150" y="245" text-anchor="middle" class="label-xl green">DISCOUNT</text>
        <text x="150" y="265" text-anchor="middle" class="label-sm" fill="#9ca3af">Zona de compra</text>

        <!-- Equilibrium line -->
        <line x1="0" y1="130" x2="300" y2="130" stroke="#f59e0b" stroke-width="2" stroke-dasharray="6 4"/>
        <rect x="110" y="120" width="80" height="20" rx="4" fill="rgba(245,158,11,0.2)"/>
        <text x="150" y="134" text-anchor="middle" class="label-sm" fill="#f59e0b">EQ (50%)</text>

        <!-- Swing High -->
        <line x1="-10" y1="0" x2="310" y2="0" stroke="#ef4444" stroke-width="1.5"/>
        <text x="-15" y="5" text-anchor="end" class="label-sm red">Swing High</text>

        <!-- Swing Low -->
        <line x1="-10" y1="260" x2="310" y2="260" stroke="#22c55e" stroke-width="1.5"/>
        <text x="-15" y="265" text-anchor="end" class="label-sm green">Swing Low</text>

        <!-- OTE zone (62-79%) -->
        <rect x="0" y="55" width="300" height="45" rx="0" fill="rgba(139,92,246,0.08)"/>
        <text x="290" y="82" text-anchor="end" class="label-sm" fill="#a78bfa">OTE (62-79%)</text>

        <!-- Percentage labels right side -->
        <text x="315" y="5" class="label-sm muted">100%</text>
        <text x="315" y="70" class="label-sm muted">70.5%</text>
        <text x="315" y="134" class="label-sm muted">50%</text>
        <text x="315" y="265" class="label-sm muted">0%</text>
      </g>

      <text x="250" y="340" text-anchor="middle" class="label-sm gray">Compra en Discount, vende en Premium â€” nunca al reves</text>
    </svg>
  `,

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // INTERBANK PYRAMID
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'interbank-pyramid': () => `
    <svg viewBox="0 0 600 380" xmlns="http://www.w3.org/2000/svg">
      <text x="300" y="24" text-anchor="middle" class="title">Estructura del Pricing Interbancario</text>

      <!-- Level 1: Banks -->
      <polygon points="300,55 380,120 220,120" fill="rgba(59,130,246,0.15)" stroke="rgba(59,130,246,0.3)" stroke-width="1"/>
      <text x="300" y="100" text-anchor="middle" class="label-sm" fill="#60a5fa">Bancos</text>
      <text x="300" y="115" text-anchor="middle" style="font-size:9px;fill:#6b7280">JP Morgan, Citi, Deutsche</text>

      <!-- Level 2: Aggregators -->
      <polygon points="220,130 380,130 430,195 170,195" fill="rgba(34,197,94,0.1)" stroke="rgba(34,197,94,0.25)" stroke-width="1"/>
      <text x="300" y="158" text-anchor="middle" class="label-sm green">Agregadores</text>
      <text x="300" y="173" text-anchor="middle" style="font-size:9px;fill:#6b7280">Hotspot, Currenex, EBS</text>
      <text x="300" y="188" text-anchor="middle" style="font-size:9px;fill:#6b7280">Best Bid / Best Offer</text>

      <!-- Level 3: Brokers -->
      <polygon points="170,205 430,205 480,270 120,270" fill="rgba(245,158,11,0.08)" stroke="rgba(245,158,11,0.2)" stroke-width="1"/>
      <text x="300" y="232" text-anchor="middle" class="label-sm" fill="#f59e0b">Brokers</text>
      <text x="300" y="247" text-anchor="middle" style="font-size:9px;fill:#6b7280">ECN / STP / Market Maker</text>
      <text x="300" y="262" text-anchor="middle" style="font-size:9px;fill:#6b7280">+ Markup al spread</text>

      <!-- Level 4: Retail -->
      <polygon points="120,280 480,280 530,345 70,345" fill="rgba(156,163,175,0.06)" stroke="rgba(156,163,175,0.15)" stroke-width="1"/>
      <text x="300" y="308" text-anchor="middle" class="label-sm muted">Tu Pantalla</text>
      <text x="300" y="323" text-anchor="middle" style="font-size:9px;fill:#6b7280">EUR/USD 1.0850 / 1.0852</text>
      <text x="300" y="338" text-anchor="middle" style="font-size:9px;fill:#6b7280">Precio procesado + latencia</text>

      <!-- Spread labels on left -->
      <text x="60" y="100" text-anchor="end" class="label-sm" fill="#60a5fa">0.0 pip</text>
      <text x="60" y="165" text-anchor="end" class="label-sm green">0.1 pip</text>
      <text x="60" y="240" text-anchor="end" class="label-sm" fill="#f59e0b">0.5-1.5 pip</text>
      <text x="60" y="315" text-anchor="end" class="label-sm muted">1.0-3.0 pip</text>

      <!-- Arrow showing spread increase -->
      <line x1="45" y1="85" x2="45" y2="325" stroke="#374151" stroke-width="1"/>
      <polygon points="42,325 45,335 48,325" fill="#374151"/>
      <text x="40" y="210" text-anchor="end" class="label-sm gray" transform="rotate(-90,40,210)">Spread crece â†“</text>
    </svg>
  `,

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // IPDA CYCLE â€” 20/40/60 days
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'ipda-cycle': () => `
    <svg viewBox="0 0 700 280" xmlns="http://www.w3.org/2000/svg">
      <text x="350" y="24" text-anchor="middle" class="title">IPDA â€” Ciclos de 20, 40 y 60 dias</text>

      <g transform="translate(50, 50)">
        <!-- 60-day range -->
        <rect x="0" y="0" width="600" height="60" rx="6" fill="rgba(239,68,68,0.06)" stroke="rgba(239,68,68,0.2)" stroke-width="1"/>
        <text x="300" y="20" text-anchor="middle" class="label-xl red">60 DIAS (Rango Macro)</text>
        <text x="300" y="40" text-anchor="middle" class="label-sm muted">â‰ˆ 1 trimestre â€” reversiones trimestrales</text>

        <!-- 40-day range -->
        <rect x="0" y="70" width="400" height="60" rx="6" fill="rgba(245,158,11,0.08)" stroke="rgba(245,158,11,0.2)" stroke-width="1"/>
        <text x="200" y="90" text-anchor="middle" class="label-xl" fill="#f59e0b">40 DIAS (Intermedio)</text>
        <text x="200" y="110" text-anchor="middle" class="label-sm muted">Ciclo acumulacion â†’ distribucion</text>

        <!-- 20-day range -->
        <rect x="0" y="140" width="200" height="60" rx="6" fill="rgba(34,197,94,0.08)" stroke="rgba(34,197,94,0.2)" stroke-width="1"/>
        <text x="100" y="160" text-anchor="middle" class="label-xl green">20 DIAS</text>
        <text x="100" y="180" text-anchor="middle" class="label-sm muted">Rango operativo</text>

        <!-- Day markers -->
        <text x="0" y="220" text-anchor="middle" class="label-sm muted">Dia 1</text>
        <text x="200" y="220" text-anchor="middle" class="label-sm muted">Dia 20</text>
        <text x="400" y="220" text-anchor="middle" class="label-sm muted">Dia 40</text>
        <text x="600" y="220" text-anchor="middle" class="label-sm muted">Dia 60</text>

        <!-- Timeline -->
        <line x1="0" y1="208" x2="600" y2="208" stroke="#374151" stroke-width="1"/>
        <circle cx="0" cy="208" r="3" fill="#22c55e"/>
        <circle cx="200" cy="208" r="3" fill="#22c55e"/>
        <circle cx="400" cy="208" r="3" fill="#f59e0b"/>
        <circle cx="600" cy="208" r="3" fill="#ef4444"/>
      </g>

      <text x="350" y="270" text-anchor="middle" class="label-sm gray">Liquidez â†’ Imbalance â†’ Liquidez â€” el precio se mueve en ciclos</text>
    </svg>
  `,

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // MARKET HIERARCHY â€” Participants pyramid
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'market-hierarchy': () => `
    <svg viewBox="0 0 600 380" xmlns="http://www.w3.org/2000/svg">
      <text x="300" y="24" text-anchor="middle" class="title">Jerarquia del Mercado Financiero</text>

      <!-- Level 1: Central Banks -->
      <polygon points="300,50 370,110 230,110" fill="rgba(239,68,68,0.12)" stroke="rgba(239,68,68,0.3)" stroke-width="1"/>
      <text x="300" y="88" text-anchor="middle" class="label-sm red">Bancos Centrales</text>
      <text x="300" y="103" text-anchor="middle" style="font-size:9px;fill:#6b7280">Fed, ECB, BoJ, BoE</text>

      <!-- Level 2: Commercial Banks -->
      <polygon points="230,120 370,120 420,180 180,180" fill="rgba(59,130,246,0.1)" stroke="rgba(59,130,246,0.25)" stroke-width="1"/>
      <text x="300" y="145" text-anchor="middle" class="label-sm" fill="#60a5fa">Bancos Comerciales</text>
      <text x="300" y="160" text-anchor="middle" style="font-size:9px;fill:#6b7280">JP Morgan, Citi, Deutsche</text>
      <text x="300" y="173" text-anchor="middle" style="font-size:9px;fill:#6b7280">75% del volumen FX</text>

      <!-- Level 3: Hedge Funds / Corps -->
      <polygon points="180,190 420,190 470,250 130,250" fill="rgba(34,197,94,0.08)" stroke="rgba(34,197,94,0.2)" stroke-width="1"/>
      <text x="300" y="215" text-anchor="middle" class="label-sm green">Hedge Funds / Fondos</text>
      <text x="300" y="230" text-anchor="middle" style="font-size:9px;fill:#6b7280">Crean tendencias, siguen momentum</text>
      <text x="300" y="243" text-anchor="middle" style="font-size:9px;fill:#6b7280">Large Speculators (COT)</text>

      <!-- Level 4: Brokers / Props -->
      <polygon points="130,260 470,260 510,310 90,310" fill="rgba(245,158,11,0.06)" stroke="rgba(245,158,11,0.15)" stroke-width="1"/>
      <text x="300" y="282" text-anchor="middle" class="label-sm" fill="#f59e0b">Brokers / Prop Firms</text>
      <text x="300" y="297" text-anchor="middle" style="font-size:9px;fill:#6b7280">Intermediarios â€” te conectan al mercado</text>

      <!-- Level 5: Retail -->
      <polygon points="90,320 510,320 540,360 60,360" fill="rgba(156,163,175,0.05)" stroke="rgba(156,163,175,0.12)" stroke-width="1"/>
      <text x="300" y="344" text-anchor="middle" class="label-sm muted">Traders Retail (vos)</text>

      <!-- Smart Money bracket -->
      <text x="555" y="135" class="label-sm" fill="#60a5fa">Smart</text>
      <text x="555" y="150" class="label-sm" fill="#60a5fa">Money</text>
      <line x1="540" y1="60" x2="540" y2="180" stroke="#60a5fa" stroke-width="1.5"/>
      <line x1="535" y1="60" x2="540" y2="60" stroke="#60a5fa" stroke-width="1.5"/>
      <line x1="535" y1="180" x2="540" y2="180" stroke="#60a5fa" stroke-width="1.5"/>
    </svg>
  `,

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // RISK REWARD VISUAL
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'risk-reward': () => `
    <svg viewBox="0 0 600 340" xmlns="http://www.w3.org/2000/svg">
      <text x="300" y="24" text-anchor="middle" class="title">Risk : Reward â€” Visual</text>

      <g transform="translate(100, 50)">
        <!-- Entry line -->
        <line x1="0" y1="160" x2="400" y2="160" stroke="#3b82f6" stroke-width="2" stroke-dasharray="6 4"/>
        <rect x="-90" y="150" width="85" height="20" rx="4" fill="rgba(59,130,246,0.15)"/>
        <text x="-48" y="164" text-anchor="middle" class="label-sm" fill="#60a5fa">Entry 1.1000</text>

        <!-- Stop Loss -->
        <line x1="0" y1="230" x2="400" y2="230" stroke="#ef4444" stroke-width="2" stroke-dasharray="6 4"/>
        <rect x="-90" y="220" width="85" height="20" rx="4" fill="rgba(239,68,68,0.15)"/>
        <text x="-48" y="234" text-anchor="middle" class="label-sm red">SL 1.0970</text>

        <!-- Risk zone -->
        <rect x="0" y="160" width="400" height="70" fill="rgba(239,68,68,0.06)"/>
        <text x="200" y="200" text-anchor="middle" class="label-sm red">RIESGO: 30 pips (1R)</text>

        <!-- TP1 -->
        <line x1="0" y1="90" x2="400" y2="90" stroke="#86efac" stroke-width="1.5" stroke-dasharray="6 4"/>
        <text x="410" y="94" class="label-sm" fill="#86efac">TP1 (2R)</text>

        <!-- TP2 -->
        <line x1="0" y1="50" x2="400" y2="50" stroke="#22c55e" stroke-width="1.5" stroke-dasharray="6 4"/>
        <text x="410" y="54" class="label-sm green">TP2 (3R)</text>

        <!-- Reward zone -->
        <rect x="0" y="50" width="400" height="110" fill="rgba(34,197,94,0.04)"/>
        <text x="200" y="130" text-anchor="middle" class="label-sm green">RECOMPENSA: 60-90 pips (2-3R)</text>

        <!-- Risk bracket left -->
        <line x1="-10" y1="163" x2="-10" y2="227" stroke="#ef4444" stroke-width="1.5"/>
        <line x1="-15" y1="163" x2="-10" y2="163" stroke="#ef4444" stroke-width="1.5"/>
        <line x1="-15" y1="227" x2="-10" y2="227" stroke="#ef4444" stroke-width="1.5"/>
        <text x="-20" y="200" text-anchor="end" class="label-sm red">1R</text>

        <!-- Reward bracket left -->
        <line x1="-10" y1="53" x2="-10" y2="157" stroke="#22c55e" stroke-width="1.5"/>
        <line x1="-15" y1="53" x2="-10" y2="53" stroke="#22c55e" stroke-width="1.5"/>
        <line x1="-15" y1="157" x2="-10" y2="157" stroke="#22c55e" stroke-width="1.5"/>
        <text x="-20" y="110" text-anchor="end" class="label-sm green">3R</text>
      </g>

      <!-- Bottom note -->
      <text x="300" y="310" text-anchor="middle" class="label-sm gray">Con R:R 1:3, solo necesitas acertar 1 de cada 4 trades</text>
      <text x="300" y="328" text-anchor="middle" class="label-sm" fill="#22c55e">Minimo recomendado: 1:2</text>
    </svg>
  `,

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // TRADING EVOLUTION â€” 4 stages path
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'trading-evolution': () => `
    <svg viewBox="0 0 700 260" xmlns="http://www.w3.org/2000/svg">
      <text x="350" y="24" text-anchor="middle" class="title">El camino del trader â€” 4 etapas</text>

      <!-- Stage 1: Discrecional -->
      <g transform="translate(30, 55)">
        <rect x="0" y="0" width="140" height="130" rx="8" fill="rgba(59,130,246,0.06)" stroke="rgba(59,130,246,0.2)" stroke-width="1"/>
        <rect x="0" y="0" width="140" height="30" rx="8" fill="rgba(59,130,246,0.15)"/>
        <rect x="0" y="22" width="140" height="8" fill="rgba(59,130,246,0.06)"/>
        <text x="70" y="20" text-anchor="middle" class="label-xl" fill="#60a5fa">ETAPA 1</text>
        <text x="70" y="55" text-anchor="middle" class="label-sm white">Discrecional</text>
        <text x="70" y="75" text-anchor="middle" class="label-sm muted">Aprender a leer</text>
        <text x="70" y="90" text-anchor="middle" class="label-sm muted">el mercado</text>
        <text x="70" y="118" text-anchor="middle" style="font-size:18px" fill="#60a5fa">ðŸ§ </text>
      </g>

      <!-- Arrow 1â†’2 -->
      <line x1="175" y1="120" x2="195" y2="120" stroke="#374151" stroke-width="1.5"/>
      <polygon points="193,117 200,120 193,123" fill="#374151"/>

      <!-- Stage 2: Data-Driven -->
      <g transform="translate(200, 55)">
        <rect x="0" y="0" width="140" height="130" rx="8" fill="rgba(34,197,94,0.06)" stroke="rgba(34,197,94,0.2)" stroke-width="1"/>
        <rect x="0" y="0" width="140" height="30" rx="8" fill="rgba(34,197,94,0.15)"/>
        <rect x="0" y="22" width="140" height="8" fill="rgba(34,197,94,0.06)"/>
        <text x="70" y="20" text-anchor="middle" class="label-xl green">ETAPA 2</text>
        <text x="70" y="55" text-anchor="middle" class="label-sm white">Data-Driven</text>
        <text x="70" y="75" text-anchor="middle" class="label-sm muted">Medir tu edge</text>
        <text x="70" y="90" text-anchor="middle" class="label-sm muted">con numeros</text>
        <text x="70" y="118" text-anchor="middle" style="font-size:18px" fill="#22c55e">ðŸ“Š</text>
      </g>

      <!-- Arrow 2â†’3 -->
      <line x1="345" y1="120" x2="365" y2="120" stroke="#374151" stroke-width="1.5"/>
      <polygon points="363,117 370,120 363,123" fill="#374151"/>

      <!-- Stage 3: Semi-Auto -->
      <g transform="translate(370, 55)">
        <rect x="0" y="0" width="140" height="130" rx="8" fill="rgba(245,158,11,0.06)" stroke="rgba(245,158,11,0.2)" stroke-width="1"/>
        <rect x="0" y="0" width="140" height="30" rx="8" fill="rgba(245,158,11,0.15)"/>
        <rect x="0" y="22" width="140" height="8" fill="rgba(245,158,11,0.06)"/>
        <text x="70" y="20" text-anchor="middle" class="label-xl" fill="#f59e0b">ETAPA 3</text>
        <text x="70" y="55" text-anchor="middle" class="label-sm white">Semi-Auto</text>
        <text x="70" y="75" text-anchor="middle" class="label-sm muted">Alertas + ejecucion</text>
        <text x="70" y="90" text-anchor="middle" class="label-sm muted">asistida</text>
        <text x="70" y="118" text-anchor="middle" style="font-size:18px" fill="#f59e0b">âš¡</text>
      </g>

      <!-- Arrow 3â†’4 -->
      <line x1="515" y1="120" x2="535" y2="120" stroke="#374151" stroke-width="1.5"/>
      <polygon points="533,117 540,120 533,123" fill="#374151"/>

      <!-- Stage 4: Algoritmico -->
      <g transform="translate(540, 55)">
        <rect x="0" y="0" width="140" height="130" rx="8" fill="rgba(139,92,246,0.06)" stroke="rgba(139,92,246,0.2)" stroke-width="1"/>
        <rect x="0" y="0" width="140" height="30" rx="8" fill="rgba(139,92,246,0.15)"/>
        <rect x="0" y="22" width="140" height="8" fill="rgba(139,92,246,0.06)"/>
        <text x="70" y="20" text-anchor="middle" class="label-xl" fill="#a78bfa">ETAPA 4</text>
        <text x="70" y="55" text-anchor="middle" class="label-sm white">Algoritmico</text>
        <text x="70" y="75" text-anchor="middle" class="label-sm muted">Sistema autonomo</text>
        <text x="70" y="90" text-anchor="middle" class="label-sm muted">24/7</text>
        <text x="70" y="118" text-anchor="middle" style="font-size:18px" fill="#a78bfa">ðŸ¤–</text>
      </g>

      <!-- Bottom note -->
      <text x="350" y="215" text-anchor="middle" class="label-sm gray">No saltes etapas â€” cada una construye sobre la anterior</text>
      <rect x="205" y="225" width="290" height="20" rx="4" fill="rgba(34,197,94,0.08)"/>
      <text x="350" y="240" text-anchor="middle" class="label-sm green">Innova Trading te guia por todo el camino</text>
    </svg>
  `,

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // TRADING TIMELINE â€” History of trading
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'trading-timeline': () => `
    <svg viewBox="0 0 700 260" xmlns="http://www.w3.org/2000/svg">
      <text x="350" y="24" text-anchor="middle" class="title">Evolucion del Trading â€” 400 anos en una linea</text>

      <!-- Timeline base -->
      <line x1="40" y1="140" x2="660" y2="140" stroke="#374151" stroke-width="2"/>

      <!-- Era 1: Physical (1602) -->
      <g transform="translate(70, 0)">
        <circle cx="0" cy="140" r="6" fill="#ef4444" stroke="#ef4444" stroke-width="2"/>
        <line x1="0" y1="60" x2="0" y2="134" stroke="#ef4444" stroke-width="1" stroke-dasharray="3 2"/>
        <rect x="-45" y="40" width="90" height="20" rx="4" fill="rgba(239,68,68,0.15)"/>
        <text x="0" y="54" text-anchor="middle" class="label-sm red">1602</text>
        <text x="0" y="165" text-anchor="middle" class="label-sm muted">Primera</text>
        <text x="0" y="180" text-anchor="middle" class="label-sm muted">Bolsa</text>
        <text x="0" y="195" text-anchor="middle" style="font-size:9px;fill:#6b7280">Amsterdam</text>
      </g>

      <!-- Era 2: NYSE (1792) -->
      <g transform="translate(170, 0)">
        <circle cx="0" cy="140" r="6" fill="#f59e0b" stroke="#f59e0b" stroke-width="2"/>
        <line x1="0" y1="60" x2="0" y2="134" stroke="#f59e0b" stroke-width="1" stroke-dasharray="3 2"/>
        <rect x="-45" y="40" width="90" height="20" rx="4" fill="rgba(245,158,11,0.15)"/>
        <text x="0" y="54" text-anchor="middle" class="label-sm" fill="#f59e0b">1792</text>
        <text x="0" y="165" text-anchor="middle" class="label-sm muted">NYSE</text>
        <text x="0" y="180" text-anchor="middle" class="label-sm muted">fundada</text>
        <text x="0" y="195" text-anchor="middle" style="font-size:9px;fill:#6b7280">Wall Street</text>
      </g>

      <!-- Era 3: Forex (1971) -->
      <g transform="translate(300, 0)">
        <circle cx="0" cy="140" r="6" fill="#22c55e" stroke="#22c55e" stroke-width="2"/>
        <line x1="0" y1="60" x2="0" y2="134" stroke="#22c55e" stroke-width="1" stroke-dasharray="3 2"/>
        <rect x="-45" y="40" width="90" height="20" rx="4" fill="rgba(34,197,94,0.15)"/>
        <text x="0" y="54" text-anchor="middle" class="label-sm green">1971</text>
        <text x="0" y="165" text-anchor="middle" class="label-sm muted">Forex</text>
        <text x="0" y="180" text-anchor="middle" class="label-sm muted">moderno</text>
        <text x="0" y="195" text-anchor="middle" style="font-size:9px;fill:#6b7280">Fin patron oro</text>
      </g>

      <!-- Era 4: Electronic (1990s) -->
      <g transform="translate(420, 0)">
        <circle cx="0" cy="140" r="6" fill="#3b82f6" stroke="#3b82f6" stroke-width="2"/>
        <line x1="0" y1="60" x2="0" y2="134" stroke="#3b82f6" stroke-width="1" stroke-dasharray="3 2"/>
        <rect x="-45" y="40" width="90" height="20" rx="4" fill="rgba(59,130,246,0.15)"/>
        <text x="0" y="54" text-anchor="middle" class="label-sm" fill="#60a5fa">1990s</text>
        <text x="0" y="165" text-anchor="middle" class="label-sm muted">Trading</text>
        <text x="0" y="180" text-anchor="middle" class="label-sm muted">electronico</text>
        <text x="0" y="195" text-anchor="middle" style="font-size:9px;fill:#6b7280">Brokers online</text>
      </g>

      <!-- Era 5: Crypto + AI (2009+) -->
      <g transform="translate(540, 0)">
        <circle cx="0" cy="140" r="6" fill="#8b5cf6" stroke="#8b5cf6" stroke-width="2"/>
        <line x1="0" y1="60" x2="0" y2="134" stroke="#8b5cf6" stroke-width="1" stroke-dasharray="3 2"/>
        <rect x="-45" y="40" width="90" height="20" rx="4" fill="rgba(139,92,246,0.15)"/>
        <text x="0" y="54" text-anchor="middle" class="label-sm" fill="#a78bfa">2009</text>
        <text x="0" y="165" text-anchor="middle" class="label-sm muted">Bitcoin</text>
        <text x="0" y="180" text-anchor="middle" class="label-sm muted">+ Crypto</text>
        <text x="0" y="195" text-anchor="middle" style="font-size:9px;fill:#6b7280">24/7/365</text>
      </g>

      <!-- Era 6: Now -->
      <g transform="translate(640, 0)">
        <circle cx="0" cy="140" r="8" fill="#22c55e" stroke="#22c55e" stroke-width="2"/>
        <circle cx="0" cy="140" r="12" fill="none" stroke="rgba(34,197,94,0.3)" stroke-width="2"/>
        <line x1="0" y1="60" x2="0" y2="128" stroke="#22c55e" stroke-width="1" stroke-dasharray="3 2"/>
        <rect x="-45" y="40" width="90" height="20" rx="4" fill="rgba(34,197,94,0.2)"/>
        <text x="0" y="54" text-anchor="middle" class="label-sm green">HOY</text>
        <text x="0" y="165" text-anchor="middle" class="label-sm muted">AI + Algo</text>
        <text x="0" y="180" text-anchor="middle" class="label-sm muted">trading</text>
        <text x="0" y="195" text-anchor="middle" style="font-size:9px;fill:#22c55e">Vos estas aca</text>
      </g>

      <!-- Bottom note -->
      <text x="350" y="240" text-anchor="middle" class="label-sm gray">La tecnologia cambio â€” la naturaleza humana no</text>
    </svg>
  `,

};

// Render
const fn = DIAGRAMS[d];
if (fn) {
  document.body.innerHTML = fn();
} else {
  document.body.innerHTML = `<div style="color:#6b7280;font-size:13px;text-align:center;">Diagram "${d}" not found.<br>Available: ${Object.keys(DIAGRAMS).join(', ')}</div>`;
}
</script>
</body>
</html>
