---
title: 'Solucion de Problemas'
description: 'Errores comunes y como solucionarlos'
---

## Errores Comunes

### 401 Unauthorized

```json
{
  "error": "unauthorized",
  "message": "Invalid API key"
}
```

**Causas:**
- Falta el header `Authorization`
- Formato de API key invalido (debe ser `Bearer TU_KEY`)
- API key tiene menos de 10 caracteres

**Solucion:**
```bash
# Formato correcto
curl -H "Authorization: Bearer tu_api_key_aqui" ...

# Incorrecto (falta Bearer)
curl -H "Authorization: tu_api_key_aqui" ...
```

---

### 403 Forbidden - Simbolo No Permitido

```json
{
  "error": "forbidden",
  "message": "Symbol BTCUSDT not allowed for your API key",
  "allowed_symbols": ["EURUSD", "GBPUSD", "USDJPY", "XAUUSD"]
}
```

**Causa:** Tu nivel de API key no tiene acceso a este simbolo.

**Solucion:**
1. Usa uno de los `allowed_symbols` del mensaje de error
2. Actualiza tu plan para acceder a mas simbolos
3. Llama a `GET /api/external/symbols` para ver tus simbolos disponibles

---

### 503 No Data Available

```json
{
  "error": "no_data",
  "message": "No bar data available. VPS/MT5 may be offline.",
  "symbol": "EURUSD",
  "timeframe": 60
}
```

**Causa:** La fuente de datos (VPS/MT5) esta temporalmente offline.

**Soluciones:**
1. Espera unos minutos y reintenta
2. Revisa nuestra [pagina de estado](https://status.innova-trading.com) para outages
3. Usa datos cacheados si los tienes

<Warning>
  Este error es temporal. Nuestro VPS tipicamente se reconecta en 5-15 minutos.
</Warning>

---

### 422 Validation Error

```json
{
  "error": "validation_error",
  "message": "Point 0: type must be 'high' or 'low'",
  "point_index": 0
}
```

**Causa:** Datos invalidos en el body de tu request.

**Problemas comunes:**
- `type` debe ser exactamente `"high"` o `"low"` (no `"HIGH"` o `"above"`)
- `time` debe ser un timestamp Unix valido
- `price` debe ser un numero, no un string

---

### 404 Indicator Not Found

```json
{
  "error": "not_found",
  "message": "Indicator not found"
}
```

**Causas:**
1. El indicador no ha sido enviado aun
2. El indicador expiro (los datos expiran despues de 24 horas)
3. `indicator_id`, `symbol`, o `timeframe` incorrectos

**Solucion:**
```python
# Asegurate que los tres coincidan
GET /api/external/indicators/mi_indicador?symbol=EURUSD&timeframe=60
```

---

## Errores de Conexión EA {#errores-ea}

Estos errores ocurren cuando usas el Expert Advisor de InnovaTrading en MetaTrader.

### Error 401 - No Autorizado

```
InnovaTrading EA: Error 401 - Unauthorized
```

**Causas:**
- Token API inválido o expirado
- Token ya fue revocado
- Token pertenece a otra cuenta de usuario

**Solución:**
1. Ve a [Conexiones](https://innova-trading.com/dashboard/connect)
2. Genera un nuevo token
3. Actualiza el campo `API_TOKEN` en la configuración del EA

---

### Error 4014/4060 - WebRequest Falló

```
InnovaTrading EA: Error 4014 - WebRequest failed
InnovaTrading EA: Error 4060 - Function is not allowed
```

**Causa:** MetaTrader no tiene permiso para conectar a nuestros servidores.

**Solución:**
1. Ve a **Herramientas** → **Opciones** → pestaña **Expert Advisors**
2. Marca ✅ **Permitir WebRequest para las URLs listadas**
3. Agrega `https://cloud.innova-trading.com`
4. Haz clic en **OK** y reinicia el EA

---

### EA Muestra "Waiting..." Infinitamente

**Causas:**
- Token no configurado
- URL del backend incorrecta
- Firewall bloqueando conexiones

**Solución:**
1. Verifica que `API_TOKEN` tenga un valor válido
2. Verifica que `BackendURL` sea `https://cloud.innova-trading.com`
3. Revisa configuración de firewall/antivirus
4. Intenta reiniciar MetaTrader

---

### Auto-Trading Deshabilitado

El icono del EA muestra **X** en vez de carita feliz.

**Solución:**
1. Haz clic en el botón **AutoTrading** en la barra de herramientas de MT4/MT5
2. O haz doble clic en el EA y marca **Permitir trading en vivo**

<Warning>
  El EA NO ejecuta operaciones - solo lee datos. Pero MetaTrader requiere este permiso para que el EA funcione.
</Warning>

---

### Sin Datos en Dashboard

El EA está conectado pero no aparecen datos en el dashboard.

**Causas:**
- El terminal MT4/MT5 no tiene mercado abierto
- No hay símbolos cargados en el terminal
- Error de sincronización

**Solución:**
1. Asegúrate de que el mercado esté abierto
2. Abre al menos un gráfico de cualquier símbolo
3. Espera 60 segundos para sincronización inicial
4. Revisa la pestaña **Experts** por mensajes de error

---

### Error - Cuenta Ya Vinculada

```
InnovaTrading EA: Error - Account already linked to another token
```

**Causa:** Esta cuenta MT4/MT5 ya está conectada con otro token.

**Solución:**
1. Ve a [Conexiones](https://innova-trading.com/dashboard/connect)
2. Encuentra la cuenta existente
3. Haz clic en **Desconectar** si quieres usar un token diferente
4. Usa el token original o genera uno nuevo

---

### Desconexiones Frecuentes

El EA se conecta pero se desconecta cada pocos minutos.

**Posibles causas:**
- Conexión a internet inestable
- VPS con recursos insuficientes
- MetaTrader entrando en modo sleep

**Soluciones:**
1. Usa una conexión de internet más estable
2. Asegúrate de que tu VPS tenga al menos 1GB RAM
3. Desactiva el modo ahorro de energía en Windows
4. Mantén el terminal MT4/MT5 en primer plano

---

## Rate Limiting

Si recibes un error `429 Too Many Requests`:

```json
{
  "error": "rate_limit_exceeded",
  "message": "Too many requests. Limit: 100/hour",
  "retry_after": 3600
}
```

**Soluciones:**
1. Implementa exponential backoff
2. Cachea respuestas donde sea posible
3. Actualiza a un tier superior para mas requests

---

## Tips de Debugging

### 1. Verifica Tu Request

```python
import requests

response = requests.get(
    "https://api.innova-trading.com/api/external/bars",
    params={"symbol": "EURUSD", "timeframe": 60, "limit": 10},
    headers={"Authorization": "Bearer TU_KEY"}
)

# Imprime respuesta completa para debugging
print(f"Status: {response.status_code}")
print(f"Headers: {response.headers}")
print(f"Body: {response.text}")
```

### 2. Verifica que Tu API Key Funciona

```bash
# Prueba con el endpoint de symbols (el mas simple)
curl -v "https://api.innova-trading.com/api/external/symbols" \
  -H "Authorization: Bearer TU_API_KEY"
```

### 3. Revisa Datos del Indicador

```python
# Lista todos tus indicadores
response = requests.get(
    "https://api.innova-trading.com/api/external/indicators",
    headers={"Authorization": "Bearer TU_KEY"}
)
print(response.json())
```

---

## Obtener Ayuda

<CardGroup cols={2}>
  <Card title="Discord" icon="discord" href="https://discord.gg/innovatrading">
    Soporte de la comunidad y discusiones
  </Card>
  <Card title="Email" icon="envelope" href="mailto:support@innova-trading.com">
    Para problemas de cuenta y facturacion
  </Card>
</CardGroup>

<Note>
  Al reportar problemas, por favor incluye:
  - Tu API key (solo los primeros 8 caracteres)
  - El mensaje de error exacto
  - El request que hiciste (URL, metodo, body)
  - Timestamp cuando ocurrio el error
</Note>
